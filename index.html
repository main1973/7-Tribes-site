<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>7Tribes (7TRB) – Community • Unity • Ownership</title>

  <!-- SEO -->
  <link rel="canonical" href="https://main1973.github.io/7-Tribes-site/">
  <meta name="description" content="7Tribes (7TRB): a community-powered token for unity, empowerment, and ownership."/>
  <meta property="og:title" content="7Tribes (7TRB) – Community & Unity Token"/>
  <meta property="og:description" content="Join the movement. Build together. Own together."/>
  <meta property="og:image" content="images/banner.png"/>
  <meta property="og:type" content="website"/>
  <meta name="twitter:card" content="summary_large_image"/>
  <meta name="twitter:title" content="7Tribes (7TRB) – Community & Unity Token"/>
  <meta name="twitter:description" content="Join the movement. Build together. Own together."/>
  <meta name="twitter:image" content="images/banner.png"/>

  <!-- Schema -->
  <script type="application/ld+json">
  {"@context":"https://schema.org","@type":"Organization","name":"7Tribes","url":"https://main1973.github.io/7-Tribes-site/","logo":"https://main1973.github.io/7-Tribes-site/images/logo.png","sameAs":["https://x.com/7Tribescrypto","https://t.me/SevenTribesCrypto","https://mainhouseoasis.etsy.com"]}
  </script>

  <!-- Icons / PWA -->
  <link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32.png"/>
  <link rel="apple-touch-icon" href="images/icon-192.png"/>
  <link rel="icon" type="image/png" sizes="512x512" href="images/icon-512.png"/>
  <link rel="manifest" href="manifest.json?v=4"/>
  <meta name="theme-color" content="#FFD700"/>

  <!-- Styles -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <link rel="stylesheet" href="style.css"/>
  <script>document.documentElement.classList.add('js')</script>

  <style>
    /* minimal safety UI */
    .js .fade-up{opacity:0;transform:translateY(8px);transition:opacity .4s,transform .4s}
    .js .fade-up.in{opacity:1;transform:none}
    .actions-row{display:flex;flex-wrap:wrap;gap:.5rem;align-items:center;justify-content:center}
    .net-hint{text-align:center;opacity:.7}
    .join-form .input{display:block;width:100%;max-width:520px;margin:.5rem 0;padding:12px 14px;border-radius:12px;border:1px solid #2a2a2f;background:#0f0f13;color:#fff}
    .join-form .input::placeholder{color:#a2a2aa}
    #toTop{position:fixed;right:16px;bottom:16px;opacity:0;pointer-events:none;transition:opacity .2s}
    #toTop.show{opacity:1;pointer-events:auto}
  </style>
</head>
<body>

  <!-- Hot patch: kill old SW + surface JS errors -->
  <script>
  (function(){
    if (navigator.serviceWorker) {
      navigator.serviceWorker.getRegistrations()
        .then(rs => rs.forEach(r => r.unregister()))
        .finally(() => { if (window.caches?.keys) caches.keys().then(keys => keys.forEach(k => caches.delete(k))); });
    }
    window.onerror = (msg) => {
      const pre = document.createElement('pre');
      pre.style = 'white-space:pre-wrap;background:#3b1d1d;padding:12px;border-radius:10px;color:#fff;margin:0 0 10px';
      pre.textContent = 'JS error: ' + msg;
      document.body.prepend(pre);
    };
  })();
  </script>

  <!-- NAV -->
  <nav class="topnav">
    <a class="brand" href="#">7Tribes</a>
    <div class="links">
      <a href="#join">Join</a>
      <a href="#about">About</a>
      <a href="#purpose">Purpose</a>
      <a href="#why">Why People</a>
      <a href="#investment">Investment</a>
      <a href="dashboard.html">Dashboard</a>
      <a href="merchants.html">Merchants</a>
      <a href="referrals.html">Referrals</a>
      <a href="#contact">Contact</a>
      <button id="theme-toggle" class="theme-toggle" aria-label="Toggle theme">🌙</button>
    </div>
  </nav>

  <!-- HERO -->
  <header class="hero">
    <img src="images/banner.png" alt="7Tribes Banner" class="banner" width="1600" height="600">
    <div class="logo-container">
      <img src="images/logo.png" alt="7Tribes Logo" class="logo" width="300" height="300">
    </div>
    <div class="sub-hero fade-up">
      <h1>7Tribes (7TRB)</h1>
      <p>Community • Unity • Ownership — a token built to empower people together.</p>
    </div>
  </header>

  <!-- QUICK ACTIONS -->
  <div class="actions-row fade-up">
    <a href="https://mainhouseoasis.etsy.com" target="_blank" class="etsy-btn">🛒 Shop 7Tribes on Etsy</a>
    <a href="https://t.me/SevenTribesCrypto" target="_blank" class="social-button telegram"><i class="fab fa-telegram"></i> Telegram</a>
    <a href="https://x.com/7Tribescrypto" target="_blank" class="social-button twitter"><i class="fab fa-x-twitter"></i> X (Twitter)</a>
    <div class="wallet-connect">
      <button id="connect-btn">🔗 Connect Wallet</button>
    </div>
  </div>
  <p class="net-hint">Network required: <strong>Ethereum Mainnet</strong></p>

  <!-- KPIs -->
  <section class="card kpis fade-up" aria-label="Token quick facts">
    <div class="kpi"><div class="kpi-label">Total Supply</div><div class="kpi-value">1,000,000</div><div class="kpi-sub">7TRB</div></div>
    <div class="kpi"><div class="kpi-label">Chain</div><div class="kpi-value">Ethereum</div><div class="kpi-sub">ERC-20</div></div>
    <div class="kpi"><div class="kpi-label">Contract</div><div class="kpi-value small">0xD816...c0D</div>
      <div class="kpi-sub"><a href="https://etherscan.io/token/0xD81641716926F6D55dC5AF6929dbE046bBf43c0D" target="_blank" rel="noopener">View on Etherscan</a></div>
    </div>
  </section>

  <!-- JOIN -->
  <section class="card fade-up" id="join">
    <h2>Join the Tribe</h2>
    <p>Get project updates, calls to action, and early drops. We respect your inbox.</p>
    <form id="joinForm" action="https://formspree.io/f/yourid" method="POST" class="join-form">
      <input class="input" type="email" name="email" placeholder="you@example.com" required />
      <input type="hidden" name="source" id="srcField" />
      <input type="hidden" name="landing_path" id="pathField" />
      <button type="submit" class="etsy-btn">Get Updates</button>
    </form>
  </section>

  <!-- ABOUT -->
  <section class="card fade-up" id="about">
    <h2>About 7Tribes (7TRB)</h2>
    <p>7Tribes is a community-powered movement built on unity, innovation, and economic empowerment. Success depends on participation—builders, investors, and supporters circulating value inside the community.</p>
  </section>

  <!-- PURPOSE -->
  <section class="card fade-up" id="purpose">
    <h2>Our Purpose</h2>
    <p>7Tribes isn’t just a token—it’s a contract between people. Every trade, every shirt bought, every coin held feeds the community, not billionaires. We make decisions together and recycle value into local projects.</p>
    <ul>
      <li><strong>Redirect the flow:</strong> from corporations → to neighbors, merchants, and builders.</li>
      <li><strong>Turn believers into builders:</strong> propose work, vote budgets, show receipts.</li>
      <li><strong>Unity = power:</strong> people → token → projects → growth → stronger people.</li>
    </ul>
  </section>

  <!-- WHY PEOPLE -->
  <section class="card fade-up" id="why">
    <h2>Why People Matter</h2>
    <p>Ownership = responsibility. Spend some to power today; hold some to build tomorrow. Teach one, bring two.</p>
  </section>

  <!-- INVESTMENT -->
  <section class="card fade-up" id="investment">
    <h2>Investment</h2>
    <ul>
      <li><a href="whitepaper.pdf" target="_blank" rel="noopener">Whitepaper</a></li>
      <li><a href="tokenomics.pdf" target="_blank" rel="noopener">Tokenomics</a></li>
      <li><a href="dashboard.html">Transparency Dashboard</a></li>
    </ul>
  </section>

  <!-- CONTACT -->
  <section class="card fade-up" id="contact">
    <h2>Contact</h2>
    <form action="https://formspree.io/f/yourid" method="POST">
      <input type="text" name="name" placeholder="Your name" required class="input">
      <input type="email" name="email" placeholder="you@example.com" required class="input">
      <textarea name="message" rows="5" placeholder="How can we help?" required class="input"></textarea>
      <button type="submit" class="etsy-btn">Send</button>
    </form>
  </section>

  <footer>© 2025 7Tribes (7TRB) — Community • Unity • Ownership</footer>

  <!-- Back-to-top -->
  <button id="toTop" aria-label="Back to top">↑</button>

  <!-- Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.7.2/ethers.umd.min.js"></script>
  <script>
  // Safe wallet connect (no MetaMask = no crash)
  (function () {
    const MM_INSTALL = "https://metamask.io/download/";
    function short(a){return a?a.slice(0,6)+"…"+a.slice(-4):"";}

    window.connectWallet = async function () {
      try {
        if (!window.ethereum) { window.open(MM_INSTALL,"_blank","noopener"); return; }
        const provider = new ethers.providers.Web3Provider(window.ethereum, "any");
        await provider.send("eth_requestAccounts", []);
        const signer  = provider.getSigner();
        const address = await signer.getAddress();
        const wrap = document.querySelector(".wallet-connect");
        if (wrap) wrap.innerHTML = `✅ Connected: <strong>${short(address)}</strong>`;
        window.ethereum.on?.("accountsChanged",()=>location.reload());
        window.ethereum.on?.("chainChanged",()=>location.reload());
      } catch (e) {
        console.warn("Wallet connect failed:", e);
      }
    };
    document.addEventListener("DOMContentLoaded", () => {
      const btn = document.getElementById("connect-btn");
      if (btn && !window.ethereum) btn.textContent = "Install MetaMask";
    });
  })();
  </script>

  <script>
  // Page interactivity: animations, smooth scroll, back-to-top, theme toggle, join form
  document.addEventListener('DOMContentLoaded', () => {
    // Scroll-in animation
    const items = document.querySelectorAll('.fade-up');
    const io = new IntersectionObserver((es)=>es.forEach(e=>{if(e.isIntersecting)e.target.classList.add('in')}),{threshold:.12});
    items.forEach(el=>io.observe(el));

    // Smooth scroll
    document.querySelectorAll('a[href^="#"]').forEach(a=>{
      a.addEventListener('click',e=>{
        const id=a.getAttribute('href'); if(id && id.length>1){e.preventDefault(); document.querySelector(id)?.scrollIntoView({behavior:'smooth',block:'start'});}
      });
    });

    // Back to top (null-safe)
    const toTop=document.getElementById('toTop');
    if (toTop){
      window.addEventListener('scroll',()=>{ if(window.scrollY>400) toTop.classList.add('show'); else toTop.classList.remove('show'); });
      toTop.addEventListener('click',()=>window.scrollTo({top:0,behavior:'smooth'}));
    }

    // Theme toggle
    const key="theme"; const saved=localStorage.getItem(key); if(saved) document.documentElement.setAttribute("data-theme",saved);
    const tbtn=document.getElementById("theme-toggle");
    function iconFor(m){return(m==="light")?"🌙":"☀️";}
    if(tbtn){ const now=document.documentElement.getAttribute("data-theme")||"dark"; tbtn.textContent=iconFor(now);
      tbtn.addEventListener("click",()=>{const cur=document.documentElement.getAttribute("data-theme")||"dark"; const next=(cur==="light")?"dark":"light"; document.documentElement.setAttribute("data-theme",next); localStorage.setItem(key,next); tbtn.textContent=iconFor(next);});
    }

    // Join form (AJAX)
    const f=document.getElementById('joinForm');
    f?.addEventListener('submit',async(e)=>{
      e.preventDefault();
      const data=new FormData(f);
      const res=await fetch(f.action,{method:'POST',body:data,headers:{'Accept':'application/json'}});
      f.reset();
      alert(res.ok?'✅ Thanks—check your inbox soon.':'⚠️ Submission failed. Try again.');
    });

    // UTM/source tagging
    const params=new URLSearchParams(location.search);
    document.getElementById('srcField').value = params.get('src')||params.get('utm_source')||'direct';
    document.getElementById('pathField').value = location.pathname+location.search;
  });
  </script>
</body>
</html>
